<!--  an example of the geolocation API based on a YouTube video and subsequently
modified.

            PLEASE NOTE THAT THIS EXAMPLE MAY NOT RUN ON A MOBILE OR WITHIN A CHROME BROWSER
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Geolocation</title>
</head>
<body>

  <!--<a href="#" id="get_location">Get location</a>-->
  <button type="button" id="get_location" style="background-color: orange;">
    Get Location
  </button>
  <p class="lat">Latitude:</p>
  <p class="lng">Longitude:</p>
  <div id="map" style="display:none:">
    <iframe id="google_map" width="425" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.co.uk?output=embed"></iframe>
  </div>

  <script>

    var success = function(pos) {
      var elLat = document.querySelector('.lat');
      var elLng = document.querySelector('.lng');
      var lat    = pos.coords.latitude,
          long   = pos.coords.longitude,
          coords = lat + ', ' + long;

      elLat.textContent = lat;
      elLng.textContent = long;

      document.getElementById('google_map').setAttribute('src', 'https://maps.google.co.uk/?q=' + coords + '&z=60&output=embed')
    }

    function failure() {
    alert()"Unable to retrieve your location");
  }

    document.getElementById('get_location').onclick = function() {
      navigator.geolocation.getCurrentPosition(success, failure);
    }

  </script>


</body>
</html>
